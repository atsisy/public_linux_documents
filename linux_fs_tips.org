#+TITLE: ファイルシステムの豆知識

* ext2
** リビジョン
   ext2には本で言えば版のような、マイナーバージョンが存在する。
   これをリビジョンという。
   
   知ってのごとく、ext2ファイルシステムでは、
   各ブロックグループの先頭にスーパブロックのデータとブロックグループディスクリプタ
   を書き込んでおく（障害発生時のため）。

   ここで、リビジョン0の仕様を見ると、毎ブロックグループの先頭にこれらのデータが書き込まれている。
   しかし、ディスク容量が増加すればするほど、毎ブロックグループに書き込んでいたのでは、損失が大きくなってしまう。
   そこで、リビジョン1では、0,1,3の累乗、5の累乗、7の累乗の番号のブロックグループにバックアップを取ることにしている。

   このリビジョンはext2のスーパブロックの中にあるs_rev_levelに代入されている。
